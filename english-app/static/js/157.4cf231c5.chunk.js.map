{"version":3,"file":"static/js/157.4cf231c5.chunk.js","mappings":"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","sources":["js/react_modules/containers/WordDefenitionMatch/WordDefenitionMatch.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { connect } from'react-redux';\r\nimport { useParams } from 'react-router-dom';\r\nimport Spinner from '../../components/UI/Spinner/Spinner';\r\nimport Button from '../../components/UI/Button/Button';\r\nimport { getCommonActions } from '../../store/reducers/commonReducer';\r\nimport * as actionCreators from '../../store/actions/index';\r\nimport {\r\n\tgetSpreadSheetUrl,\r\n\tgetTaskPathByPageId,\r\n    CORRECT_MODIFIER,\r\n    WRONG_MODIFIER,\r\n} from '../../../constants'; \r\nimport './WordDefenitionMatch.scss';\r\nimport fallbackLogo from '../../../../static_assets/images/sorry-bruh.webp';\r\nimport spamImg from '../../../../static_assets/images/ration.jpg';\r\nimport rationImg from '../../../../static_assets/images/spam.jpg';\r\n\r\nconst actions = getCommonActions('WORDS_DEFENITION_MATCH');\r\n\r\n/**\r\n * Word - defenition or word - translation task.\r\n * \r\n * @param {object} props - Props.\r\n * @param {string} props.data.word - Word or defenition.\r\n * @param {string} props.data.correctWord - Correct option.\r\n * @param {Array.<string>} props.data.options - Possible options.\r\n * @param {string|void} [props.data.imageUrl] - Image URL.\r\n * @param {string|void} [props.data.transcription] - IPA transcription.\r\n *\r\n * @returns {JSX.Element} Word - defenition or word - translation task content.\r\n */\r\nconst WordDefenitionMatch = (props) => {\r\n    const {\r\n\t\tfetchDataConnect,\r\n        restoreInitialStateConnect,\r\n\t\tdata,\r\n\t\tloading,\r\n\t\ttitle,\r\n\t} = props;\r\n    const [currentStep, setCurrentStep] = useState(1);\r\n    const [isCorrectAnswer, setIsCorrectAnswer] = useState(null);\r\n    const [selectedWord, setSelectedWord] = useState('');\r\n    const [showNextBtn, setShowNextBtn] = useState('false'); \r\n    const { token } = useParams();\r\n\r\n    const runValidation = (target, correctWord) => {\r\n        const clickedWord = target.textContent;\r\n        const isCorrect = correctWord === clickedWord;\r\n\r\n        setSelectedWord(clickedWord);\r\n        setIsCorrectAnswer(isCorrect);\r\n    };\r\n\r\n    const clearCurrentStep = () => {\r\n        setCurrentStep((prevState) => prevState++);\r\n        setSelectedWord('');\r\n        setIsCorrectAnswer(null);\r\n        setShowNextBtn(false);\r\n    };\r\n\r\n    useEffect(() => {\r\n        const requestUrl = getTaskPathByPageId(token);\r\n        const {\r\n            fetchStart: fetchStartHandler,\r\n            fetchSuccess: fetchSuccessHandler,\r\n            fetchFail: fetchFailHandler,\r\n        } = actions;\r\n      \r\n        fetchDataConnect(\r\n            getSpreadSheetUrl(requestUrl),\r\n            {\r\n                fetchStartHandler,\r\n                fetchSuccessHandler,\r\n                fetchFailHandler,\r\n            },\r\n        );\r\n\r\n        return () => restoreInitialStateConnect();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        clearCurrentStep();\r\n    }, [currentStep]);\r\n\r\n    if (loading) {\r\n\t\treturn  <Spinner />;\r\n\t}\r\n\r\n    if (currentStep === data?.length) {\r\n        return (\r\n            <div className=\"success-block\">\r\n                <h2>The end! Good luck, have fun.</h2>\r\n                <ul className=\"recap-list\">\r\n                    {data.map((el) => (\r\n                        <li className=\"recap-list-item\">\r\n                            <strong>{el.correctWord}</strong> - {el.word}\r\n                        </li>\r\n                    ))}\r\n                </ul>\r\n                <div className=\"interesting-fact\">\r\n                    <h3>Did you know that?</h3>\r\n                    <div className=\"description\">\r\n                        <div className=\"image-holder\">\r\n                            <img src={rationImg} alt=\"ration-1\" />\r\n                        </div>\r\n                        <div className=\"image-holder\">\r\n                            <img src={spamImg} alt=\"ration-2\" />\r\n                        </div>\r\n                        <p>With the oubreak of the war with Russia the UK started supplying our military units with field rations. You can see one of them called \"–ü–∞–ª—è–Ω–∏—Ü—è\". Look on the canned meat in the top-left corner. The can reads \"SPAN\". The word we all perfectly know, meaning annoying emails, letters or ads, was derived from \"SPiced hAM\" or shortly \"SPAM\". When the WW2 had finished and military cut by times, there were plenty of SPAM cans left on warehouses. With the due date approaching there was a massive advertising campaign started to sell all the extra SPAMs. The word got catchy and lingered with us until now</p>\r\n                    </div>\r\n                </div>\r\n                <Button\r\n                    classNames=\"-primary -wide\"\r\n                    onClickHandler={() => setCurrentStep(1)}\r\n                >\r\n                    Try again\r\n                </Button>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (data) {\r\n        const {\r\n            word,\r\n            options,\r\n            correctWord,\r\n            imageUrl,\r\n            transcription,\r\n        } = data[currentStep - 1];\r\n        const totalWords = data.length;\r\n        const percentDone = Math.ceil(currentStep / totalWords * 100);\r\n        const validationClassModiifer = isCorrectAnswer && selectedWord\r\n            ? CORRECT_MODIFIER\r\n            : selectedWord ? WRONG_MODIFIER : '';\r\n        const subheadText = isCorrectAnswer && selectedWord\r\n            ? 'Belissimo!'\r\n            : selectedWord ? 'Yo, dude, that sucks!' : 'Choose the right option';\r\n\r\n        return (\r\n            <div className=\"word-defenition-match-wrap\">\r\n                <div className={`defenition-block ${validationClassModiifer}`}>\r\n                    <div className=\"img-holder\">\r\n                        <img src={imageUrl || fallbackLogo} alt={word} />\r\n                    </div>\r\n                    {word}\r\n                </div>\r\n                <div className=\"options-block\">\r\n                    <h5 className={`subhead ${validationClassModiifer}`}>{subheadText}</h5>\r\n                    <ul className=\"options-list\">\r\n                        {options.split(', ').map((option) => (\r\n                            <li\r\n                                key={option}\r\n                                className={`option-item ${option === selectedWord ? validationClassModiifer : ''}${validationClassModiifer === WRONG_MODIFIER && option === correctWord ? CORRECT_MODIFIER : ''}`}\r\n                                onClick={(e) => runValidation(e.target, correctWord)}\r\n                            >\r\n                                {option}\r\n                            </li>\r\n                        ))}\r\n                        <li className=\"option-item\" onClick={() => setShowNextBtn(true)}>I don't know :( üí©</li>\r\n                    </ul>\r\n                    {(selectedWord || showNextBtn) && (\r\n                        <Button\r\n                            classNames=\"-primary -wide\"\r\n                            onClickHandler={() => setCurrentStep(prevState => prevState += 1)}\r\n                        >\r\n                            Next ‚Üí\r\n                        </Button>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tdata: state.wordDefenitionMatch.fetchedData,\r\n    loading: state.wordDefenitionMatch.loading,\r\n    error: state.wordDefenitionMatch.error\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n\tfetchDataConnect: (url, options) => dispatch(actionCreators.asyncFetchStart(url, options)),\r\n    restoreInitialStateConnect: () => dispatch(actions.restoreInitialState()),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(WordDefenitionMatch);"],"names":["actions","getCommonActions","connect","state","data","wordDefenitionMatch","fetchedData","loading","error","dispatch","fetchDataConnect","url","options","actionCreators","restoreInitialStateConnect","restoreInitialState","props","title","useState","currentStep","setCurrentStep","isCorrectAnswer","setIsCorrectAnswer","selectedWord","setSelectedWord","showNextBtn","setShowNextBtn","token","useParams","useEffect","requestUrl","getTaskPathByPageId","fetchStartHandler","fetchStart","fetchSuccessHandler","fetchSuccess","fetchFailHandler","fetchFail","getSpreadSheetUrl","prevState","Spinner","length","className","map","el","correctWord","word","src","rationImg","alt","spamImg","Button","classNames","onClickHandler","imageUrl","totalWords","transcription","validationClassModiifer","Math","ceil","CORRECT_MODIFIER","WRONG_MODIFIER","subheadText","fallbackLogo","split","option","onClick","e","target","clickedWord","textContent","isCorrect","runValidation"],"sourceRoot":""}